(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79021,e=>{"use strict";let a=(0,e.i(41709).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],79021)},52843,e=>{"use strict";let a=(0,e.i(41709).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>a],52843)},33652,e=>{"use strict";var a=e.i(45108),t=e.i(24),l=e.i(99528);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let r=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));r.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));n.displayName="CardDescription";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let c=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));c.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>c,"CardHeader",()=>r,"CardTitle",()=>i])},74955,e=>{"use strict";var a=e.i(24);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},55679,e=>{"use strict";var a=e.i(45108),t=e.i(24),l=e.i(99528);let s=t.forwardRef(({className:e,type:t,error:s,...r},i)=>(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"border-destructive focus-visible:ring-destructive",e),ref:i,...r}));s.displayName="Input",e.s(["Input",()=>s])},26398,e=>{"use strict";let a=(0,e.i(41709).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],26398)},66730,e=>{"use strict";let a=(0,e.i(41709).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],66730)},46518,e=>{"use strict";let a=(0,e.i(41709).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>a],46518)},79432,e=>{"use strict";let a=(0,e.i(41709).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],79432)},22433,e=>{"use strict";let a=(0,e.i(41709).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>a],22433)},940,e=>{"use strict";var a=e.i(45108),t=e.i(24),l=e.i(99528);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let r=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...t}));r.displayName="TableHeader";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));n.displayName="TableRow";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let c=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableCell",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>n])},7765,e=>{"use strict";let a=(0,e.i(41709).default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);e.s(["Monitor",()=>a],7765)},66381,e=>{"use strict";var a=e.i(45108),t=e.i(24),l=e.i(41433),s=e.i(29094),r=e.i(46518),i=e.i(79021),n=e.i(19753),d=e.i(69619),c=e.i(71928),o=e.i(87628),m=e.i(22433),u=e.i(52843),x=e.i(79432),h=e.i(7765),p=e.i(71793),f=e.i(51871),g=e.i(66730),j=e.i(26398),v=e.i(75805),b=e.i(55679),y=e.i(33652),w=e.i(90047),N=e.i(21580),_=e.i(69522),C=e.i(940),k=e.i(53261),S=e.i(59922),T=e.i(4333),D=e.i(8279),M=e.i(51335),R=e.i(34721),A=e.i(74955),z=e.i(58305),H=e.i(23739),I=e.i(95007),O="Checkbox",[E,L]=(0,D.createContextScope)(O),[B,F]=E(O);function P(e){let{__scopeCheckbox:l,checked:s,children:r,defaultChecked:i,disabled:n,form:d,name:c,onCheckedChange:o,required:m,value:u="on",internal_do_not_use_render:x}=e,[h,p]=(0,R.useControllableState)({prop:s,defaultProp:i??!1,onChange:o,caller:O}),[f,g]=t.useState(null),[j,v]=t.useState(null),b=t.useRef(!1),y=!f||!!d||!!f.closest("form"),w={checked:h,disabled:n,setChecked:p,control:f,setControl:g,name:c,form:d,value:u,hasConsumerStoppedPropagationRef:b,required:m,defaultChecked:!q(i)&&i,isFormControl:y,bubbleInput:j,setBubbleInput:v};return(0,a.jsx)(B,{scope:l,...w,children:"function"==typeof x?x(w):r})}var U="CheckboxTrigger",K=t.forwardRef(({__scopeCheckbox:e,onKeyDown:l,onClick:s,...r},i)=>{let{control:n,value:d,disabled:c,checked:o,required:m,setControl:u,setChecked:x,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:f}=F(U,e),g=(0,T.useComposedRefs)(i,u),j=t.useRef(o);return t.useEffect(()=>{let e=n?.form;if(e){let a=()=>x(j.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[n,x]),(0,a.jsx)(I.Primitive.button,{type:"button",role:"checkbox","aria-checked":q(o)?"mixed":o,"aria-required":m,"data-state":G(o),"data-disabled":c?"":void 0,disabled:c,value:d,...r,ref:g,onKeyDown:(0,M.composeEventHandlers)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,M.composeEventHandlers)(s,e=>{x(e=>!!q(e)||!e),f&&p&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});K.displayName=U;var $=t.forwardRef((e,t)=>{let{__scopeCheckbox:l,name:s,checked:r,defaultChecked:i,required:n,disabled:d,value:c,onCheckedChange:o,form:m,...u}=e;return(0,a.jsx)(P,{__scopeCheckbox:l,checked:r,defaultChecked:i,disabled:d,required:n,onCheckedChange:o,name:s,form:m,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K,{...u,ref:t,__scopeCheckbox:l}),e&&(0,a.jsx)(X,{__scopeCheckbox:l})]})})});$.displayName=O;var V="CheckboxIndicator",W=t.forwardRef((e,t)=>{let{__scopeCheckbox:l,forceMount:s,...r}=e,i=F(V,l);return(0,a.jsx)(H.Presence,{present:s||q(i.checked)||!0===i.checked,children:(0,a.jsx)(I.Primitive.span,{"data-state":G(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});W.displayName=V;var Y="CheckboxBubbleInput",X=t.forwardRef(({__scopeCheckbox:e,...l},s)=>{let{control:r,hasConsumerStoppedPropagationRef:i,checked:n,defaultChecked:d,required:c,disabled:o,name:m,value:u,form:x,bubbleInput:h,setBubbleInput:p}=F(Y,e),f=(0,T.useComposedRefs)(s,p),g=(0,A.usePrevious)(n),j=(0,z.useSize)(r);t.useEffect(()=>{if(!h)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(g!==n&&e){let t=new Event("click",{bubbles:a});h.indeterminate=q(n),e.call(h,!q(n)&&n),h.dispatchEvent(t)}},[h,g,n,i]);let v=t.useRef(!q(n)&&n);return(0,a.jsx)(I.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??v.current,required:c,disabled:o,name:m,value:u,form:x,...l,tabIndex:-1,ref:f,style:{...l.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function q(e){return"indeterminate"===e}function G(e){return q(e)?"indeterminate":e?"checked":"unchecked"}X.displayName=Y;var Z=e.i(71970),J=e.i(99528);let Q=t.forwardRef(({className:e,...t},l)=>(0,a.jsx)($,{ref:l,className:(0,J.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,a.jsx)(W,{className:(0,J.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(Z.Check,{className:"h-4 w-4"})})}));Q.displayName=$.displayName;var ee=e.i(67158);let ea=[{id:"log_1",action:"user.ban",admin:{id:"admin_1",name:"Ahmet Yılmaz",email:"ahmet@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=ahmet",role:"moderator"},target:{type:"user",id:"user_123",name:"Spam Account"},changes:[{field:"status",old_value:"active",new_value:"banned"},{field:"ban_reason",old_value:null,new_value:"Spam içerik paylaşımı"}],ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-3e5).toISOString()},{id:"log_2",action:"moment.approve",admin:{id:"admin_2",name:"Fatma Demir",email:"fatma@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=fatma",role:"moderator"},target:{type:"moment",id:"moment_456"},changes:[{field:"status",old_value:"pending",new_value:"approved"}],ip_address:"192.168.1.101",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",created_at:new Date(Date.now()-9e5).toISOString()},{id:"log_3",action:"transaction.refund",admin:{id:"admin_3",name:"Mehmet Kaya",email:"mehmet@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=mehmet",role:"finance"},target:{type:"transaction",id:"txn_789",name:"₺150.00 iade"},changes:[{field:"status",old_value:"completed",new_value:"refunded"},{field:"refund_amount",old_value:null,new_value:150}],metadata:{reason:"Müşteri talebi",ticket_id:"ticket_123"},ip_address:"192.168.1.102",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-18e5).toISOString()},{id:"log_4",action:"settings.update",admin:{id:"admin_4",name:"Zeynep Arslan",email:"zeynep@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=zeynep",role:"super_admin"},changes:[{field:"max_daily_swipes",old_value:50,new_value:100},{field:"premium_price_monthly",old_value:49.99,new_value:59.99}],ip_address:"192.168.1.103",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-36e5).toISOString()},{id:"log_5",action:"feature_flag.toggle",admin:{id:"admin_4",name:"Zeynep Arslan",email:"zeynep@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=zeynep",role:"super_admin"},target:{type:"feature_flag",id:"dark_mode",name:"Dark Mode"},changes:[{field:"enabled",old_value:!1,new_value:!0},{field:"rollout_percentage",old_value:0,new_value:25}],ip_address:"192.168.1.103",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-54e5).toISOString()},{id:"log_6",action:"admin.create",admin:{id:"admin_4",name:"Zeynep Arslan",email:"zeynep@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=zeynep",role:"super_admin"},target:{type:"admin",id:"admin_5",name:"Yeni Moderatör"},changes:[{field:"role",old_value:null,new_value:"moderator"},{field:"status",old_value:null,new_value:"active"}],ip_address:"192.168.1.103",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-72e5).toISOString()},{id:"log_7",action:"user.verify",admin:{id:"admin_1",name:"Ahmet Yılmaz",email:"ahmet@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=ahmet",role:"moderator"},target:{type:"user",id:"user_555",name:"Premium Kullanıcı"},changes:[{field:"is_verified",old_value:!1,new_value:!0},{field:"verification_type",old_value:null,new_value:"id_card"}],ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-108e5).toISOString()},{id:"log_8",action:"campaign.create",admin:{id:"admin_6",name:"Can Öztürk",email:"can@travelmatch.app",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=can",role:"marketing"},target:{type:"campaign",id:"camp_001",name:"Yılbaşı Kampanyası"},changes:[{field:"status",old_value:null,new_value:"draft"},{field:"budget",old_value:null,new_value:5e4}],ip_address:"192.168.1.104",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",created_at:new Date(Date.now()-144e5).toISOString()}],et={"user.ban":{label:"Kullanıcı Yasaklama",color:"bg-red-100 text-red-800",icon:c.Shield},"user.unban":{label:"Yasak Kaldırma",color:"bg-green-100 text-green-800",icon:c.Shield},"user.update":{label:"Kullanıcı Güncelleme",color:"bg-blue-100 text-blue-800",icon:n.User},"user.delete":{label:"Kullanıcı Silme",color:"bg-red-100 text-red-800",icon:n.User},"user.verify":{label:"Kullanıcı Doğrulama",color:"bg-green-100 text-green-800",icon:n.User},"moment.approve":{label:"Moment Onay",color:"bg-green-100 text-green-800",icon:m.FileText},"moment.reject":{label:"Moment Red",color:"bg-red-100 text-red-800",icon:m.FileText},"moment.delete":{label:"Moment Silme",color:"bg-red-100 text-red-800",icon:m.FileText},"transaction.approve":{label:"İşlem Onay",color:"bg-green-100 text-green-800",icon:o.DollarSign},"transaction.refund":{label:"İade İşlemi",color:"bg-orange-100 text-orange-800",icon:o.DollarSign},"settings.update":{label:"Ayar Değişikliği",color:"bg-purple-100 text-purple-800",icon:d.Settings},"admin.create":{label:"Admin Oluşturma",color:"bg-blue-100 text-blue-800",icon:n.User},"admin.update":{label:"Admin Güncelleme",color:"bg-blue-100 text-blue-800",icon:n.User},"admin.delete":{label:"Admin Silme",color:"bg-red-100 text-red-800",icon:n.User},"report.resolve":{label:"Rapor Çözümleme",color:"bg-green-100 text-green-800",icon:c.Shield},"feature_flag.toggle":{label:"Feature Flag Değişikliği",color:"bg-purple-100 text-purple-800",icon:d.Settings},"campaign.create":{label:"Kampanya Oluşturma",color:"bg-blue-100 text-blue-800",icon:m.FileText},"campaign.update":{label:"Kampanya Güncelleme",color:"bg-blue-100 text-blue-800",icon:m.FileText}},el={super_admin:"Süper Admin",manager:"Yönetici",moderator:"Moderatör",finance:"Finans",marketing:"Pazarlama",support:"Destek",viewer:"İzleyici"};function es(){let[e]=(0,t.useState)(ea),[d,o]=(0,t.useState)([]),[m,T]=(0,t.useState)(""),[D,M]=(0,t.useState)("all"),[R,A]=(0,t.useState)("all"),[z,H]=(0,t.useState)(1),[I,O]=(0,t.useState)(null),E=Array.from(new Set(e.map(e=>e.admin.id))).map(a=>{let t=e.find(e=>e.admin.id===a);return t?.admin}),L=e.filter(e=>{let a=""===m||e.admin.name.toLowerCase().includes(m.toLowerCase())||e.admin.email.toLowerCase().includes(m.toLowerCase())||e.target?.name?.toLowerCase().includes(m.toLowerCase())||e.action.toLowerCase().includes(m.toLowerCase()),t="all"===D||e.action===D,l="all"===R||e.admin.id===R;return a&&t&&l}),B=Math.ceil(L.length/10),F=L.slice((z-1)*10,10*z),P=()=>{let a=d.length>0?e.filter(e=>d.includes(e.id)):L,t=new Blob(["\uFEFF"+[["Tarih","Admin","Email","Rol","Aksiyon","Hedef","IP Adresi"],...a.map(e=>[(0,J.formatDate)(e.created_at),e.admin.name,e.admin.email,el[e.admin.role]||e.admin.role,et[e.action]?.label||e.action,e.target?.name||e.target?.id||"-",e.ip_address])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,s.click(),URL.revokeObjectURL(l),ee.toast.success(`${a.length} kayıt CSV olarak indirildi`)},U=()=>{let a=d.length>0?e.filter(e=>d.includes(e.id)):L,t=a.map(e=>[(0,J.formatDate)(e.created_at),e.admin.name,e.admin.email,el[e.admin.role]||e.admin.role,et[e.action]?.label||e.action,e.target?.name||e.target?.id||"-",e.ip_address,e.changes?.map(e=>`${e.field}: ${e.old_value} → ${e.new_value}`).join("; ")||"-"]),l='<?xml version="1.0" encoding="UTF-8"?>\n';l+='<?mso-application progid="Excel.Sheet"?>\n<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">\n<Worksheet ss:Name="Audit Logs">\n<Table>\n<Row>\n',["Tarih","Admin","Email","Rol","Aksiyon","Hedef","IP Adresi","Değişiklikler"].forEach(e=>{l+=`<Cell><Data ss:Type="String">${e}</Data></Cell>
`}),l+="</Row>\n",t.forEach(e=>{l+="<Row>\n",e.forEach(e=>{l+=`<Cell><Data ss:Type="String">${e}</Data></Cell>
`}),l+="</Row>\n"});let s=new Blob([l+="</Table>\n</Worksheet>\n</Workbook>"],{type:"application/vnd.ms-excel"}),r=URL.createObjectURL(s),i=document.createElement("a");i.href=r,i.download=`audit-logs-${new Date().toISOString().split("T")[0]}.xls`,i.click(),URL.revokeObjectURL(r),ee.toast.success(`${a.length} kayıt Excel olarak indirildi`)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Audit Logs"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Tüm admin işlemlerinin detaylı kayıtları"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(v.Button,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:[(0,a.jsx)(j.RefreshCw,{className:"mr-2 h-4 w-4"}),"Yenile"]}),(0,a.jsxs)(v.Button,{variant:"outline",size:"sm",onClick:P,children:[(0,a.jsx)(r.Download,{className:"mr-2 h-4 w-4"}),"CSV"]}),(0,a.jsxs)(v.Button,{variant:"outline",size:"sm",onClick:U,children:[(0,a.jsx)(r.Download,{className:"mr-2 h-4 w-4"}),"Excel"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(y.Card,{children:[(0,a.jsxs)(y.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y.CardTitle,{className:"text-sm font-medium",children:"Bugün"}),(0,a.jsx)(l.History,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(y.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"127"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"işlem kaydı"})]})]}),(0,a.jsxs)(y.Card,{children:[(0,a.jsxs)(y.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y.CardTitle,{className:"text-sm font-medium",children:"Bu Hafta"}),(0,a.jsx)(g.Calendar,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(y.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"892"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"işlem kaydı"})]})]}),(0,a.jsxs)(y.Card,{children:[(0,a.jsxs)(y.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y.CardTitle,{className:"text-sm font-medium",children:"Aktif Admin"}),(0,a.jsx)(n.User,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(y.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"8"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"bugün işlem yaptı"})]})]}),(0,a.jsxs)(y.Card,{children:[(0,a.jsxs)(y.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y.CardTitle,{className:"text-sm font-medium",children:"Kritik İşlem"}),(0,a.jsx)(c.Shield,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(y.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"12"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"yasaklama/silme"})]})]})]}),(0,a.jsxs)(y.Card,{children:[(0,a.jsx)(y.CardHeader,{children:(0,a.jsx)(y.CardTitle,{children:"Filtreler"})}),(0,a.jsx)(y.CardContent,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(s.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(b.Input,{placeholder:"Admin, hedef veya işlem ara...",value:m,onChange:e=>T(e.target.value),className:"pl-9"})]})}),(0,a.jsxs)(_.Select,{value:D,onValueChange:M,children:[(0,a.jsx)(_.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(_.SelectValue,{placeholder:"İşlem Tipi"})}),(0,a.jsxs)(_.SelectContent,{children:[(0,a.jsx)(_.SelectItem,{value:"all",children:"Tüm İşlemler"}),Object.entries(et).map(([e,{label:t}])=>(0,a.jsx)(_.SelectItem,{value:e,children:t},e))]})]}),(0,a.jsxs)(_.Select,{value:R,onValueChange:A,children:[(0,a.jsx)(_.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(_.SelectValue,{placeholder:"Admin"})}),(0,a.jsxs)(_.SelectContent,{children:[(0,a.jsx)(_.SelectItem,{value:"all",children:"Tüm Adminler"}),E.map(e=>(0,a.jsx)(_.SelectItem,{value:e?.id||"",children:e?.name},e?.id))]})]})]})})]}),d.length>0&&(0,a.jsx)(y.Card,{className:"border-primary",children:(0,a.jsx)(y.CardContent,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:[d.length," kayıt seçildi"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:P,children:[(0,a.jsx)(r.Download,{className:"mr-2 h-4 w-4"}),"Seçilenleri CSV İndir"]}),(0,a.jsxs)(v.Button,{size:"sm",variant:"outline",onClick:U,children:[(0,a.jsx)(r.Download,{className:"mr-2 h-4 w-4"}),"Seçilenleri Excel İndir"]}),(0,a.jsx)(v.Button,{size:"sm",variant:"ghost",onClick:()=>o([]),children:"Seçimi Temizle"})]})]})})}),(0,a.jsxs)(y.Card,{children:[(0,a.jsxs)(y.CardHeader,{children:[(0,a.jsx)(y.CardTitle,{children:"İşlem Kayıtları"}),(0,a.jsxs)(y.CardDescription,{children:[L.length," kayıt bulundu"]})]}),(0,a.jsxs)(y.CardContent,{children:[(0,a.jsxs)(C.Table,{children:[(0,a.jsx)(C.TableHeader,{children:(0,a.jsxs)(C.TableRow,{children:[(0,a.jsx)(C.TableHead,{className:"w-12",children:(0,a.jsx)(Q,{checked:F.length>0&&F.every(e=>d.includes(e.id)),onCheckedChange:e=>{e?o(F.map(e=>e.id)):o([])}})}),(0,a.jsx)(C.TableHead,{children:"Tarih"}),(0,a.jsx)(C.TableHead,{children:"Admin"}),(0,a.jsx)(C.TableHead,{children:"İşlem"}),(0,a.jsx)(C.TableHead,{children:"Hedef"}),(0,a.jsx)(C.TableHead,{children:"IP Adresi"}),(0,a.jsx)(C.TableHead,{className:"text-right",children:"Detay"})]})}),(0,a.jsx)(C.TableBody,{children:F.map(e=>{let t=et[e.action]||{label:e.action,color:"bg-gray-100 text-gray-800",icon:l.History},s=t.icon;return(0,a.jsxs)(C.TableRow,{children:[(0,a.jsx)(C.TableCell,{children:(0,a.jsx)(Q,{checked:d.includes(e.id),onCheckedChange:a=>{a?o([...d,e.id]):o(d.filter(a=>a!==e.id))}})}),(0,a.jsx)(C.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:(0,J.formatDate)(e.created_at)})]})}),(0,a.jsx)(C.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(N.Avatar,{className:"h-8 w-8",children:[(0,a.jsx)(N.AvatarImage,{src:e.admin.avatar}),(0,a.jsx)(N.AvatarFallback,{children:e.admin.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.admin.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:el[e.admin.role]||e.admin.role})]})]})}),(0,a.jsx)(C.TableCell,{children:(0,a.jsxs)(w.Badge,{className:t.color,variant:"secondary",children:[(0,a.jsx)(s,{className:"mr-1 h-3 w-3"}),t.label]})}),(0,a.jsx)(C.TableCell,{children:e.target?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:e.target.name||e.target.id}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.target.type})]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,a.jsx)(C.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.MapPin,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-mono",children:e.ip_address})]})}),(0,a.jsx)(C.TableCell,{className:"text-right",children:(0,a.jsxs)(k.Dialog,{children:[(0,a.jsx)(k.DialogTrigger,{asChild:!0,children:(0,a.jsx)(v.Button,{variant:"ghost",size:"sm",onClick:()=>O(e),children:(0,a.jsx)(i.Eye,{className:"h-4 w-4"})})}),(0,a.jsxs)(k.DialogContent,{className:"max-w-2xl",children:[(0,a.jsxs)(k.DialogHeader,{children:[(0,a.jsx)(k.DialogTitle,{children:"İşlem Detayı"}),(0,a.jsx)(k.DialogDescription,{children:(0,J.formatDate)(e.created_at)})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsxs)(N.Avatar,{className:"h-12 w-12",children:[(0,a.jsx)(N.AvatarImage,{src:e.admin.avatar}),(0,a.jsx)(N.AvatarFallback,{children:e.admin.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.admin.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.admin.email}),(0,a.jsx)(w.Badge,{variant:"outline",className:"mt-1",children:el[e.admin.role]||e.admin.role})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"İşlem"}),(0,a.jsxs)(w.Badge,{className:t.color,variant:"secondary",children:[(0,a.jsx)(s,{className:"mr-1 h-3 w-3"}),t.label]})]}),e.target&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Hedef"}),(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Tip:"})," ",e.target.type]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"ID:"})," ",(0,a.jsx)("code",{className:"font-mono",children:e.target.id})]}),e.target.name&&(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"İsim:"})," ",e.target.name]})]})]}),e.changes&&e.changes.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Değişiklikler"}),(0,a.jsx)(S.ScrollArea,{className:"h-[150px]",children:(0,a.jsx)("div",{className:"space-y-2",children:e.changes.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:e.field}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"text-red-600 line-through",children:e.old_value?.toString()||"null"}),(0,a.jsx)("span",{children:"→"}),(0,a.jsx)("span",{className:"text-green-600",children:e.new_value?.toString()||"null"})]})]},t))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.ip_address})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Monitor,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"truncate text-xs",children:e.user_agent})]})]})]})]})]})})]},e.id)})})]}),B>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(z-1)*10+1," -"," ",Math.min(10*z,L.length)," / ",L.length]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Button,{variant:"outline",size:"sm",onClick:()=>H(e=>Math.max(1,e-1)),disabled:1===z,children:(0,a.jsx)(p.ChevronLeft,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"text-sm",children:[z," / ",B]}),(0,a.jsx)(v.Button,{variant:"outline",size:"sm",onClick:()=>H(e=>Math.min(B,e+1)),disabled:z===B,children:(0,a.jsx)(f.ChevronRight,{className:"h-4 w-4"})})]})]})]})]})]})}e.s(["default",()=>es],66381)}]);