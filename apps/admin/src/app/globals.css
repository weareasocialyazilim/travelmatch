@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== CSS VARIABLES - LIGHT MODE (Default) ===== */
:root {
  /* Base colors */
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;

  /* Card & surface colors */
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;

  /* Popover/dropdown colors */
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;

  /* Primary brand color (violet) */
  --primary: 263 70% 50%;
  --primary-foreground: 0 0% 98%;

  /* Secondary color */
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;

  /* Muted color */
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;

  /* Accent color */
  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;

  /* Destructive/error color */
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;

  /* Border & input colors */
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 263 70% 50%;

  /* Radius */
  --radius: 0.75rem;

  /* Success color */
  --success: 142 76% 36%;
  --success-foreground: 0 0% 98%;

  /* Warning color */
  --warning: 38 92% 50%;
  --warning-foreground: 0 0% 98%;

  /* Trust/Info color */
  --trust: 217 91% 60%;
  --trust-foreground: 0 0% 98%;

  /* Sidebar specific */
  --sidebar-background: 0 0% 98%;
  --sidebar-foreground: 240 5.3% 26.1%;
  --sidebar-border: 240 5.9% 90%;
  --sidebar-primary: 263 70% 50%;
  --sidebar-primary-foreground: 0 0% 98%;
  --sidebar-accent: 240 4.8% 95.9%;
  --sidebar-accent-foreground: 240 5.9% 10%;
  --sidebar-ring: 263 70% 50%;

  /* Ritual brand colors */
  --ritual-pink: #ff007a;
  --ritual-purple: #8b5cf6;
  --ritual-cyan: #00f2ff;
  --ritual-acid: #ccff00;

  /* Admin specific */
  --admin-bg: 0 0% 98%;
}

/* ===== CSS VARIABLES - DARK MODE ===== */
.dark {
  /* Base colors */
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;

  /* Card & surface colors */
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;

  /* Popover/dropdown colors */
  --popover: 240 10% 6%;
  --popover-foreground: 0 0% 98%;

  /* Primary brand color (violet) */
  --primary: 263 70% 50%;
  --primary-foreground: 0 0% 98%;

  /* Secondary color */
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;

  /* Muted color */
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;

  /* Accent color */
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;

  /* Destructive/error color */
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;

  /* Border & input colors */
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 263 70% 50%;

  /* Success color */
  --success: 142 71% 45%;
  --success-foreground: 0 0% 98%;

  /* Warning color */
  --warning: 38 92% 50%;
  --warning-foreground: 0 0% 98%;

  /* Trust/Info color */
  --trust: 217 91% 60%;
  --trust-foreground: 0 0% 98%;

  /* Sidebar specific */
  --sidebar-background: 240 10% 5%;
  --sidebar-foreground: 240 4.8% 95.9%;
  --sidebar-border: 240 3.7% 15.9%;
  --sidebar-primary: 263 70% 50%;
  --sidebar-primary-foreground: 0 0% 98%;
  --sidebar-accent: 240 3.7% 15.9%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-ring: 263 70% 50%;

  /* Admin specific */
  --admin-bg: 240 10% 3.9%;
}

/* ===== BASE LAYER ===== */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* ===== ADMIN GLASS EFFECT ===== */
.admin-glass {
  @apply bg-card/80 backdrop-blur-2xl border border-border rounded-[2rem];
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.admin-glass:hover {
  @apply border-primary/30 bg-card;
  box-shadow: 0 0 40px -15px var(--ritual-pink);
}

/* Custom utility classes */
.text-ritual-title {
  font-size: clamp(2rem, 5vw, 4rem);
  line-height: 0.9;
  letter-spacing: -0.04em;
}

/* ===== ADMIN SIDEBAR STYLES ===== */
.admin-sidebar {
  @apply h-screen flex flex-col bg-sidebar-background border-r border-sidebar-border shrink-0 transition-all duration-300;
  position: sticky;
  top: 0;
  left: 0;
}

.admin-sidebar-logo {
  @apply px-4 py-4 border-b border-sidebar-border;
}

.admin-sidebar-logo-icon {
  @apply h-10 w-10 rounded-xl flex items-center justify-center text-white;
  background: linear-gradient(
    to bottom right,
    var(--ritual-pink),
    var(--ritual-purple)
  );
}

.admin-sidebar-nav {
  @apply flex-1 overflow-y-auto px-2 py-3;
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.3) transparent;
}

.admin-sidebar-nav::-webkit-scrollbar {
  width: 6px;
}

.admin-sidebar-nav::-webkit-scrollbar-track {
  background: transparent;
}

.admin-sidebar-nav::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/30;
  border-radius: 3px;
}

.admin-sidebar-nav::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/50;
}

.admin-sidebar-section {
  @apply mb-4;
}

.admin-sidebar-section-title {
  @apply px-3 py-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground;
}

.admin-sidebar-item {
  @apply flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-muted-foreground transition-all duration-200;
}

.admin-sidebar-item:hover {
  @apply bg-accent text-accent-foreground;
}

.admin-sidebar-item-active {
  @apply text-foreground bg-accent;
  border-left: 2px solid var(--ritual-pink);
}

.admin-sidebar-item-icon {
  @apply h-4 w-4 shrink-0;
}

.admin-sidebar-badge {
  @apply px-1.5 py-0.5 font-bold rounded-full text-white text-center;
  font-size: 10px;
  min-width: 18px;
  background-color: var(--ritual-pink);
}

/* ===== ADMIN HEADER STYLES ===== */
.admin-header {
  @apply h-14 px-6 flex items-center justify-between border-b border-border bg-background/80 backdrop-blur-xl shrink-0;
  position: sticky;
  top: 0;
  z-index: 40;
}

.admin-header-actions {
  @apply flex items-center gap-2;
}

.admin-header-search {
  @apply h-9 px-3 rounded-lg bg-muted border border-border;
}

/* ===== ADMIN CARD STYLES ===== */
.admin-card {
  @apply bg-card border border-border rounded-xl;
}

.admin-card:hover {
  @apply border-border/80;
}

/* ===== DROPDOWN MENU FIXES ===== */
[data-radix-popper-content-wrapper] {
  z-index: 100 !important;
}

.admin-dropdown,
[role='menu'] {
  @apply bg-popover border border-border shadow-2xl text-popover-foreground;
}

/* Force opaque background for dropdown content */
[data-state='open'] > [role='menu'],
[data-radix-menu-content],
div[data-radix-popper-content-wrapper] > div {
  @apply bg-popover border-border;
}

/* Menu items should be clearly visible */
[role='menuitem'] {
  @apply text-popover-foreground;
}

[role='menuitem']:hover {
  @apply bg-accent text-accent-foreground;
}

/* Select dropdown fix */
[data-radix-select-content],
[data-radix-select-viewport] {
  @apply bg-popover text-popover-foreground;
}

/* ===== CHART CONTAINER FIX ===== */
.recharts-wrapper {
  @apply text-foreground;
}

.recharts-cartesian-axis-tick-value {
  @apply fill-muted-foreground;
}

.recharts-legend-item-text {
  @apply text-foreground !important;
}

/* ===== TABLE STYLES ===== */
.admin-table {
  @apply w-full;
}

.admin-table th {
  @apply text-muted-foreground font-medium text-left px-4 py-3 border-b border-border;
}

.admin-table td {
  @apply text-foreground px-4 py-3 border-b border-border;
}

.admin-table tr:hover td {
  @apply bg-muted/50;
}

/* ===== DIALOG/MODAL FIX ===== */
[data-radix-dialog-content] {
  @apply bg-card text-card-foreground;
}

/* ===== TOAST STYLES ===== */
[data-sonner-toast] {
  @apply bg-card text-card-foreground border-border;
}

/* ===== ANIMATIONS ===== */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite linear;
  background: linear-gradient(
    90deg,
    hsl(var(--muted)) 0%,
    hsl(var(--muted-foreground) / 0.1) 50%,
    hsl(var(--muted)) 100%
  );
  background-size: 200% 100%;
}

/* ===== PRINT STYLES ===== */
@media print {
  .admin-sidebar,
  .admin-header {
    display: none !important;
  }

  body {
    background: white !important;
    color: black !important;
  }

  .admin-card {
    border: 1px solid #ddd !important;
    break-inside: avoid;
  }
}
